<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui">

	#{documentView.refreshOnRouteDocList()}

	<h2 align="center"><h:outputLabel value="#{currentUser.currMenu.name}"/></h2>

	<p:panel>
		<p:dataTable id="docOnRouteTable" value="#{documentView.documentList}" var="doc" rows="20"
					 selectionMode="single" selection="#{documentView.selectedDocument}" rowKey="#{doc.id}"
					 filteredValue="#{documentView.filteredDocumentList}" emptyMessage="#{text['table.empty']}"
					 paginator="true" paginatorPosition="bottom" paginatorTemplate="{CurrentPageReport} {FirstPageLink}
                     {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					 currentPageReportTemplate="#{text['table.total']} {totalRecords}" sortBy="#{doc.changeDate}">

			<p:ajax event="rowDblselect" listener="#{documentView.openFromListDocDialog}" update=":docDialog"
					oncomplete="$('.ui-state-error').removeClass('ui-state-error');"/>

			<p:column headerText="#{text['document.col.id']}" filterBy="#{doc.id}" filterMatchMode="contains">
				<h:outputText value="#{doc.id}"/>
			</p:column>

			<p:column headerText="#{text['document.col.name']}" filterBy="#{doc.name}" filterMatchMode="contains">
				<h:outputText value="#{doc.name}"/>
			</p:column>
		</p:dataTable>

		<f:facet name="footer">
			<p:commandButton value="#{text['document.btn.open']}" icon="fa fa-fw fa-pencil-square-o" update=":docDialog"
							 actionListener="#{documentView.openFromListDocDialog}"
							 oncomplete="$('.ui-state-error').removeClass('ui-state-error');"/>
		</f:facet>
	</p:panel>
</ui:composition>