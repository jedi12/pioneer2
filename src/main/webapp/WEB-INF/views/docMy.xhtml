<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui">

	#{documentMyView.refreshDocList()}

	<h2 align="center"><h:outputLabel value="#{currentUser.currMenu.name}"/></h2>

	<p:panel>
		<p:panel>
			<p:selectOneRadio id="customRadio" value="#{documentMyView.radioSelect}" layout="custom">
				<p:ajax listener="#{documentMyView.refreshDocList}" update="docMyTable calendar"/>
				<f:selectItem itemLabel="Документы с датой изменения" itemValue="date"/>
				<f:selectItem itemLabel="Документы в работе" itemValue="working"/>
			</p:selectOneRadio>
			<h:panelGrid columns="3" style="margin: auto;">
				<p:radioButton for="customRadio" itemIndex="0"/>
				<h:outputLabel value="Документы с датой изменения:"/>
				<p:calendar id="calendar" value="#{documentMyView.dateIn}" pattern="dd/MM/yyyy" locale="ru" size="10"
							disabled="#{documentMyView.radioSelect == 'date' ? 'false' : 'true'}" readonlyInput="true">
					<p:ajax event="dateSelect" listener="#{documentMyView.handleDateSelect}" update="docMyTable" />
				</p:calendar>
				<p:radioButton for="customRadio" itemIndex="1"/>
				<h:outputLabel value="Документы в работе"/>
				<p:calendar style="visibility: hidden;"/>
			</h:panelGrid>
		</p:panel>

		<p:dataTable id="docMyTable" value="#{documentMyView.documentList}" var="doc" rows="20"
					 selectionMode="single" selection="#{documentMyView.selectedDocument}" rowKey="#{doc.id}"
					 filteredValue="#{documentMyView.filteredDocumentList}" emptyMessage="#{text['table.empty']}"
					 paginator="true" paginatorPosition="bottom" paginatorTemplate="{CurrentPageReport} {FirstPageLink}
                     {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					 currentPageReportTemplate="#{text['table.total']} {totalRecords}" sortBy="#{doc.changeDate}">

			<p:column headerText="#{text['document.col.id']}" filterBy="#{doc.id}" filterMatchMode="contains">
				<h:outputText value="#{doc.id}"/>
			</p:column>

			<p:column headerText="#{text['document.col.name']}" filterBy="#{doc.name}" filterMatchMode="contains">
				<h:outputText value="#{doc.name}"/>
			</p:column>

			<p:column headerText="#{text['document.col.status']}" filterBy="#{doc.statusName}" filterMatchMode="contains">
				<h:outputText value="#{doc.statusName}"/>
			</p:column>

			<p:column headerText="#{text['document.col.group']}" filterBy="#{doc.documentGroupName}" filterMatchMode="contains">
				<h:outputText value="#{doc.documentGroupName}"/>
			</p:column>
		</p:dataTable>

	</p:panel>
</ui:composition>