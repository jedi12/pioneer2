<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<h:form id="loginDialog" target="_blank">
		<p:dialog widgetVar="loginDialog" resizable="false" width="400" modal="true">
			<f:facet name="header">
				<i class="fa fa-fw fa-sign-in" style="margin-right:10px"/>
				<p:outputLabel value="#{text['login.header']}"/>
			</f:facet>

			<p:panel>
				<h:panelGrid id="loginFields" columns="2" cellpadding="5" width="100%" columnClasses="labelNoWrap,width100">
					<p:outputLabel for="login" value="#{text['login.login.label']}"/>
					<p:inputText id="login" value="#{currentUser.login}" style="width: 100%" validator="notEmptyString"/>
					<p:outputLabel for="pass" value="#{text['login.pass.label']}"/>
					<p:password id="pass" value="#{currentUser.pass}" style="width: 100%" validator="notEmptyString"/>
				</h:panelGrid>

				<f:facet name="footer">
					<h:panelGrid columns="2" columnClasses=",columnRight" style="width: 100%">
						<p:commandButton value="#{text['button.enter']}" icon="fa fa-fw fa-sign-in" update="loginFields :growl"
										 actionListener="#{currentUser.signIn}"/>
						<p:commandButton value="#{text['button.cancel']}" icon="fa fa-fw fa-close" type="button"
										 onclick="PF('loginDialog').hide();"/>
					</h:panelGrid>
				</f:facet>
			</p:panel>
		</p:dialog>
	</h:form>

	<h:form id="changePassDialog" target="_blank">
		<p:dialog widgetVar="changePassDialog" resizable="false" width="400" modal="true">
			<f:facet name="header">
				<i class="fa fa-fw fa-key"/>
				<p:outputLabel value=" #{text['changePass.header']}"/>
			</f:facet>

			<p:panel>
				<h:panelGrid id="changePassFields" columns="2" cellpadding="5" width="100%" columnClasses="labelNoWrap,width100">
					<p:outputLabel for="oldPass" value="#{text['changePass.oldPass.label']}"/>
					<p:password id="oldPass" value="#{currentUser.pass}" style="width: 100%" validator="notEmptyString"/>
					<p:outputLabel for="newPass" value="#{text['changePass.newPass.label']}"/>
					<p:password id="newPass" value="#{currentUser.newPass}" match="newPassRepeat" style="width: 100%"
								validator="notEmptyString"/>
					<p:outputLabel for="newPassRepeat" value="#{text['changePass.repeatPass.label']}"/>
					<p:password id="newPassRepeat" value="#{currentUser.newPass}" style="width: 100%" validator="notEmptyString"/>
				</h:panelGrid>

				<f:facet name="footer">
					<h:panelGrid columns="2" columnClasses=",columnRight" style="width: 100%">
						<p:commandButton value="#{text['button.changePass']}" icon="fa fa-fw fa-sign-key"
										 update="changePassFields :growl" actionListener="#{currentUser.changePass}"/>
						<p:commandButton value="#{text['button.cancel']}" icon="fa fa-fw fa-close" type="button"
										 onclick="PF('changePassDialog').hide();"/>
					</h:panelGrid>
				</f:facet>
			</p:panel>
		</p:dialog>
	</h:form>
	
</ui:composition>